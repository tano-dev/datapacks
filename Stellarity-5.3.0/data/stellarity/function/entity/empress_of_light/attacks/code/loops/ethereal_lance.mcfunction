scoreboard players add @s stellarity.empress_of_light.attack_duration 1

execute facing entity @p eyes run tp @s ^ ^ ^0.023

# Type 1
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 3 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 6 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 9 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 12 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 15 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 18 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 21 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 24 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 27 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 30 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 33 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 36 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 39 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 42 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 45 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 48 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 1 if score @s stellarity.empress_of_light.attack_duration matches 51 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point


# Type 2
  execute if score #ethereal_lance.type stellarity.misc matches 2 if score @s stellarity.empress_of_light.attack_duration matches 10 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 2 if score @s stellarity.empress_of_light.attack_duration matches 20 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 2 if score @s stellarity.empress_of_light.attack_duration matches 30 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 2 if score @s stellarity.empress_of_light.attack_duration matches 40 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 2 if score @s stellarity.empress_of_light.attack_duration matches 50 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point

# Type 3
  execute if score #ethereal_lance.type stellarity.misc matches 3 if score @s stellarity.empress_of_light.attack_duration matches 6 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 3 if score @s stellarity.empress_of_light.attack_duration matches 12 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 3 if score @s stellarity.empress_of_light.attack_duration matches 18 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 3 if score @s stellarity.empress_of_light.attack_duration matches 24 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 3 if score @s stellarity.empress_of_light.attack_duration matches 30 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 3 if score @s stellarity.empress_of_light.attack_duration matches 36 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 3 if score @s stellarity.empress_of_light.attack_duration matches 42 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 3 if score @s stellarity.empress_of_light.attack_duration matches 48 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point
  execute if score #ethereal_lance.type stellarity.misc matches 3 if score @s stellarity.empress_of_light.attack_duration matches 54 at @a[distance=..40] run function stellarity:entity/empress_of_light/attacks/code/ethereal_lance/pick_point


execute if score @s stellarity.empress_of_light.attack_duration matches 55.. run tag @s remove stellarity.empress_of_light.face_player
execute if score @s stellarity.empress_of_light.attack_duration matches 55.. run tag @s remove stellarity.empress_of_light.ethereal_lance
